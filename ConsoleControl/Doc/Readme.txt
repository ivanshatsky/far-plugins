Console Control for FAR 3
-------------------------

Микроплагин для управления размером и шрифтом консольного окна FAR с помощью
мыши или клавиатуры. 

Для изменения размера окна мышью схватите за нижний правый угол консоли 
(не за рамку!) и изменяйте размер. При желании обработку мыши можно отключить
в настройках плагина

Для управления с клавиатуры установите макросы из файла ConsoleControl.fmlua.
По умолчанию настроены следующие клавиатурные команды:

AltShift+Стрелки - Изменение размера окна
Ctrl+КолесоМыши  - Изменение размера шрифта
Alt+F9           - Maximize/Restore, оптимизированный вариант
CtrlAlt+F9       - Включение/выключение большого буфера экрана (в режиме "/w")
CtrlAlt-PgUp     - Включение/выключение режима Always On Top
CtrlAlt-Цифра    - Пресеты размеров окна консоли.

Ограничения: Windows Vista+ (частично совместимо с Windows XP), не совместимо с ConEmu.

Автор: Максим Русов (Max.Rusov@gmail.com)

Последние версии и исходные тексты:
https://github.com/MaxRusov/far-plugins

-------------------------------------------------------------------------------
Использование Console Control в макросах:

  Plugin.Call(ID, Команда, Параметры...)

где  

  ID = "94624B7B-FFDB-435F-B955-F99DBBC3BFE0"

Команды:

 "WindowSize", {Width}, {Height}

   Изменение размеров консольного окна.
   Если параметр опущен или = 0, соответствующая координата не изменяется
   Возвращает новые значения размера окна: Width, Height

 "BufferSize", {Width}, {Height}

   Изменение размеров консольного буфера.
   Если параметр опущен или = 0, соответствующая координата не изменяется
   Если параметр = -1 соответствующая координата приравнивается размеру окна.
   Возвращает новые значения размера буфера: Width, Height

 "FontSize", {Size}

   Установка размера консольного шрифта
   Возвращает новые параметры шрифта: Size, Name
   
 "FontSizeDelta", {DeltaSize}

   Аналогично предыдущей, задается изменение размера

 "FontName", {Name,} {Size}

   Установка консольного шрифта
   Возвращает новые параметры шрифта: Size, Name

 "Maximize" {On}

   Maximize (On=1) или Restore (On=0) консольного окна
   Если параметр = -1 режим переключается, если опущен - не изменяется
   Возвращает новое значение 

 "Topmost" {On}

   Включение/выключение режима Always On Top для консольного окна 
   Если параметр = -1 режим переключается, если опущен - не изменяется
   Возвращает новое значение 

 "Transparency" {Value}

   Установка прозрачности консольного окна 
   Возвращает новое значение 


-------------------------------------------------------------------------------
Использование Console Control через командную строку:

 conctrl:/Команда=Параметр [/Команда=Параметр]

Команды:

  /Save=ИмяФайла
  /Load=ИмяФайла

  Сохранение/считывание консольной палитры в файл формата *.pal/*.plt

  /Scale=N  

  Яркость палитры. При сохранении палитры все цвета делятся на N, 
  а при считывании - умножаются на N. По умолчанию N = 1.

  Ключ используется совместно с /Load или /Save и должен быть указан первым

-------------------------------------------------------------------------------
История изменений:

Ver 1.1

 - Команда Maximize/Restore. В отличии от AltF9, при Restore восстанавливаются 
   размеры окна, которые были до Maximize, а не при запуске FAR. 
   Кроме того, в режиме "/w" при Restore восстанавливается ширина экранного 
   буфера и не появляется горизонтальный скроллер.

   Также обрабатывается команды Maximize/Restore кнопками консольного окна.
   При желании отключается в настройках плагина.

 - Команды управления размером экранного буфера, для режима "/w".
   Макрос на CtrlAlt+F9 включает/выключает большой экранный буфер "на лету".

 - Улучшено изменение размеров шрифта при максимизированном окне.

 - Частичная поддержка Windows XP (изменение размеров окна работает, шрифта - нет)

Ver 1.2

 - Если при изменении размеров окна мышкой удерживать кнопку Shift то размер
   будет меняться только в одном измерении, по ширине или высоте

 - Расширен список команд плагина, доступных из макросов через Plugin.Call
   ВНИМАНИЕ: требуется замена макросов!

   Возможно создание пресетов размеров окна/буфера, примера настройки: 
   макросы на CtrlAlt-Цифра.

Ver 1.3

  - Возможность изменения консольного шрифта, через диалог и Plugin.Call

  - Командный префикс "conctrl:", позволяет сохранять и загружать палитры
    консоли в текстовых файлах *.pal 
    
    Также поддерживается двоичный формат *.plt утилиты Console Palette Changer
    http://home.comcast.net/~derelict/console_attr.html

    Для чтения палитр, идущих в комплекте с Console Palette Changer значение
    Scale лучше задавать в пределах 3-4, например:

    conctrl:/Scale=4 /Load=DOS.PLT

Ver 1.4

  - Управление режимом Topmost и прозрачностью консольного окна. 
    Оба режима автоматически отключаются, когда окно максимизируется.

  - Удалены избыточные макро команды WindowSizeDelta и BufferSizeDelta

  - В комплект включен интерфейсный LUA модуль и LUA макрос

