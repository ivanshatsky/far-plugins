Far Macro Library
-----------------

Плагин предназначен для управления макросами FAR, хранимыми в текстовом формате.

Плагин использует собственный формат файла - FML (Far Macro Library). В одном
FML файле может быть записано произвольное количество макросов. При запуске
плагин ищет все FML файлы в заданном каталоге (по умолчанию - подкаталог Macros
в каталоге плагина). Если макросу назначена горячая клавиша, то он будет 
вызван автоматически при ее нажатии. Макросы, которым не назначена горячая
клавиша, можно вызывать через меню плагина. Если на одну горячую клавишу
назначено несколько макросов, то при ее нажатии будет предложено выбрать один
из них.

Данный плагин можно использовать совместно с обычными макросами, хранящимися
в реестре. Плагин обладает приоритетом, при обработке событий клавиатуры и мыши,
если на одну клавишу назначены макросы в FML файле и реестре, то сработают
только макросы из FML файла (если только они не "пропускают" событие для 
дальнейшей обработки FAR - см. параметр макроса EatOnRun).


Формат макро файла:
http://code.google.com/p/far-plugins/wiki/FML

-----------------------------------------------------------------------------
Командная строка

Плагин регистрирует командный префикс, для доступа к основным возможностям 
из командной строки или UserMenu. Префикс, по умолчанию "FML:", настраивается
в реестре (ключ CmdPrefix).

Обобщенный формат командной строки:

 FML:Команда Параметры

Доступные команды:

 Call ИмяМакроса
   - Вызвать макрос по имени. Если имеется несколько одноименных макросов,
     будет вызван первый зарегистрированный

 Key ИмяКлавиши
   - Вызвать макрос, привязанный к заданной комбинации клавиш в текущей
     макрообласти (при вызове из командной строки, это, очевидно, всегда Shell).
     Если к заданной клавише привязано несколько макросов - будет показан
     список. При задании клавиши можно использовать модификаторы нажатий 
     (см. далее описание привязки макросов к горячим клавишам). Пример:

     FML:Key MSRClick:Release

 ...Пока все

-------------------------------------------------------------------------------
Использование в макросах:

  Plugin.Call(ID, Команда, Параметры...)

где  

  ID = "84884660-5B2F-4581-9282-96E00AE109A2"

Команды:

  "Call", ИмяМакроса
  "Key", ИмяКлавиши

    Вызов макроса по имени или по клавише, аналогично вызову через префикс.

  "List"

    Показать список макросов для текущей макрообласти

  "ListAll"

    Показать список всех макросов

  "Update", {Options}

    Обновить список всех макросов из всех *.FMLUA файлов. 
    Options является комбинацией флагов:

    1 - Игнорировать все ошибки. Макросы, которые не могут быть обработаны - 
        пропускаются. В таком режиме обрабатываются макросы при запуске Far.
    2 - Не выводить диалог ошибки. Текст ошибки возвращается как результат
        функции. Используется для немодальной диагностики.

    Возвращает: Количество макросов, Текст ошибки

  "AddLUA", Mode, Description, Keys, Areas, FileName, Row

    Вспомогательная функция, для добавления в список FML макросов нативных
    LUA макросов и событий, чтобы они отображались в едином списке.

    Mode = 0 - Очистить список нативных макросов
    Mode = 1 - Добавить описание нативного LUA макроса или события. 
